{"version":3,"sources":["../../src/libs/mongoose-init.js"],"names":["options","server","socketOptions","keepAlive","connectTimeoutMS","replset","user","pass","mongodbUri","Promise","global","connect","conn","connection","on","console","error","bind","once","log"],"mappings":";;AAAA;;AAEA;;;;;;AAEA;;;;;;AAMA,IAAMA,UAAU;AACdC,UAAQ,EAAEC,eAAe,EAAEC,WAAW,MAAb,EAAqBC,kBAAkB,KAAvC,EAAjB,EADM;AAEdC,WAAS,EAAEH,eAAe,EAAEC,WAAW,MAAb,EAAqBC,kBAAmB,KAAxC,EAAjB,EAFK;AAGdE,QAAM,QAHQ;AAIdC,QAAM;AAJQ,CAAhB;AATA;;;AAgBA,IAAMC,2BAAN;AACA,mBAASC,OAAT,GAAmBC,OAAOD,OAA1B;AACA,mBAASE,OAAT,CAAiBH,UAAjB,EAA6BR,OAA7B;AACA,IAAMY,OAAO,mBAASC,UAAtB;;AAEAD,KAAKE,EAAL,CAAQ,OAAR,EAAiBC,QAAQC,KAAR,CAAcC,IAAd,CAAmBF,OAAnB,EAA4B,mBAA5B,CAAjB;;AAEAH,KAAKM,IAAL,CAAU,MAAV,EAAkB,YAAW;AAC3B;AACAH,UAAQI,GAAR,CAAY,6CAAZ;AACD,CAHD","file":"mongoose-init.js","sourcesContent":["import {dbPath} from '../config'\n// mongoose 4.3.x\nimport mongoose from 'mongoose'\n \n/* \n * Mongoose by default sets the auto_reconnect option to true.\n * We recommend setting socket options at both the server and replica set level.\n * We recommend a 30 second connection timeout because it allows for \n * plenty of time in most operating environments.\n */\nconst options = { \n  server: { socketOptions: { keepAlive: 300000, connectTimeoutMS: 30000 } }, \n  replset: { socketOptions: { keepAlive: 300000, connectTimeoutMS : 30000 } },\n  user: 'dbuser',\n  pass: 'strader@123'\n}\n \nconst mongodbUri = dbPath\nmongoose.Promise = global.Promise\nmongoose.connect(mongodbUri, options)\nconst conn = mongoose.connection\n \nconn.on('error', console.error.bind(console, 'connection error:'))\n \nconn.once('open', function() {\n  // Wait for the database connection to establish, then start the app.\n  console.log(\"Establish database connection successfully.\")\n})\n"]}